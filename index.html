<!DOCTYPE html>
<html lang="et">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartBelly PRO | Silverita Labs O√ú</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root { --bg: #0b101a; --cyan: #00ffcc; --magenta: #ff00ff; --green: #39ff14; }
        body { background: var(--bg); color: #e6edf3; font-family: 'Segoe UI', sans-serif; margin: 0; overflow-x: hidden; }
        #bg-canvas { position: fixed; top: 0; left: 0; z-index: -1; opacity: 0.6; }
        
        .screen { display: none; padding: 20px; min-height: 100vh; flex-direction: column; align-items: center; animation: fadeIn 0.3s ease-out; }
        .screen.active { display: flex; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .glass { background: rgba(22, 27, 34, 0.85); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 24px; backdrop-filter: blur(20px); padding: 20px; width: 100%; max-width: 450px; margin-bottom: 15px; }
        .btn-neon { border: 1px solid var(--cyan); color: var(--cyan); border-radius: 30px; padding: 14px; width: 100%; font-weight: bold; text-transform: uppercase; cursor: pointer; transition: 0.3s; background: transparent; text-align: center; }
        .btn-neon:hover { background: var(--cyan); color: black; box-shadow: 0 0 20px var(--cyan); }
        
        .logo-box { width: 65px; height: 65px; background: white; border-radius: 18px; display: flex; align-items: center; justify-content: center; font-weight: 900; color: black; font-size: 1.6rem; margin-bottom: 10px; box-shadow: 0 0 20px rgba(255,255,255,0.2); }
        
        .lang-switch { position: fixed; top: 15px; right: 15px; display: flex; gap: 4px; z-index: 1000; }
        .lang-dot { width: 34px; height: 34px; border-radius: 8px; border: 1px solid #333; display: flex; align-items: center; justify-content: center; font-size: 10px; cursor: pointer; background: #161b22; font-weight: bold; }
        .lang-dot.active { border-color: var(--cyan); color: var(--cyan); }

        .back-btn { align-self: flex-start; color: #666; font-size: 10px; text-transform: uppercase; letter-spacing: 2px; margin-bottom: 20px; cursor: pointer; }
        .geo-badge { background: rgba(0, 255, 204, 0.1); color: var(--cyan); padding: 2px 8px; border-radius: 5px; font-size: 9px; margin-top: 5px; }
    </style>
</head>
<body>

<canvas id="bg-canvas"></canvas>

<div class="lang-switch">
    <div onclick="setL('et')" id="l-et" class="lang-dot">ET</div>
    <div onclick="setL('fi')" id="l-fi" class="lang-dot">FI</div>
    <div onclick="setL('ru')" id="l-ru" class="lang-dot">RU</div>
    <div onclick="setL('en')" id="l-en" class="lang-dot">EN</div>
</div>

<div id="scr-intro" class="screen active justify-center">
    <div class="logo-box">SB</div>
    <h1 class="text-3xl font-bold tracking-tighter">SmartBelly PRO</h1>
    <p class="text-gray-500 text-[9px] tracking-[4px] mb-2 uppercase">Silverita Labs O√ú</p>
    <div id="geo-info" class="geo-badge mb-8">üìç Detecting location...</div>
    
    <div class="glass text-center">
        <p id="t-desc" class="text-xs text-gray-400 mb-8"></p>
        <button onclick="nav('scr-quiz')" id="t-start" class="btn-neon"></button>
    </div>
</div>

<div id="scr-quiz" class="screen pt-10">
    <div onclick="nav('scr-intro')" class="back-btn">‚Üê <span id="t-back1"></span></div>
    <h2 id="t-quiz-title" class="text-xl font-bold mb-6 text-cyan-400"></h2>
    <div class="glass space-y-4">
        <input type="number" id="age" placeholder="Age" value="30">
        <input type="number" id="weight" placeholder="Weight (kg)" value="75">
        <select id="goal" class="w-full bg-[#0d1117] text-white p-3 rounded-xl border border-gray-700">
            <option value="loss" id="t-g1"></option>
            <option value="gain" id="t-g2"></option>
        </select>
        <button onclick="nav('scr-plans')" id="t-next" class="btn-neon"></button>
    </div>
</div>

<div id="scr-plans" class="screen pt-10">
    <div onclick="nav('scr-quiz')" class="back-btn">‚Üê <span id="t-back2"></span></div>
    <h2 id="t-plans-title" class="text-xl font-bold mb-6"></h2>
    
    <div class="glass border-cyan-400 border-2 mb-4">
        <h3 class="font-bold text-cyan-400">PRO AI CLINIC</h3>
        <p class="text-[10px] text-gray-400 mt-2" id="t-plan-desc">Full Sync & Local Optimization</p>
        <p class="text-2xl font-bold mt-4" id="t-price">9.99‚Ç¨</p>
        <button onclick="nav('scr-main')" class="btn-neon mt-4 text-xs" id="t-pay"></button>
    </div>

    <div class="glass">
        <h4 class="text-[10px] text-gray-500 uppercase mb-3" id="t-near-lbl">Nearby Facilities</h4>
        <div id="local-list" class="space-y-2 text-xs">
            </div>
    </div>
</div>

<div id="scr-main" class="screen pt-6">
    <div class="w-full max-w-sm">
        <div class="flex justify-between items-center mb-4">
            <span class="text-cyan-400 text-[10px] font-bold" id="t-live">LIVE MONITORING</span>
            <button onclick="nav('scr-intro')" class="text-[9px] text-gray-600">LOGOUT</button>
        </div>
        
        <div class="glass">
            <canvas id="progChart" height="140"></canvas>
            <div class="flex justify-between mt-6">
                <div class="text-left">
                    <p class="text-[9px] text-gray-500 uppercase" id="t-bmi-lbl"></p>
                    <h3 id="bmi-val" class="font-bold text-magenta-400">24.5</h3>
                </div>
                <div class="text-right">
                    <p class="text-[9px] text-gray-500 uppercase" id="t-kcal-lbl"></p>
                    <h3 class="text-green-400 font-bold" id="kcal-val">2633 KCAL</h3>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    const dict = {
        et: {
            desc: "Nutikas toitumiss√ºsteem Silverita Labs-ilt. Kohandatud Eesti turule.",
            start: "Alusta", back: "Tagasi", quiz_title: "Andmed", g1: "Kaalulangus", g2: "Lihasmass",
            next: "Edasi", plans_title: "Teenused", pay: "Telli", live: "MONITOORING", 
            bmi_lbl: "BMI staatus", kcal_lbl: "P√§evane kvoot", near_lbl: "L√§hedal asuvad kohad",
            shops: ["Maxima", "Grossi Toidukaubad", "MyFitness"], price: "9.99‚Ç¨"
        },
        fi: {
            desc: "√Ñlyk√§s ravitsemusj√§rjestelm√§. Optimoitu Suomen markkinoille.",
            start: "Aloita", back: "Takaisin", quiz_title: "Tiedot", g1: "Painonpudotus", g2: "Lihasmassa",
            next: "Seuraava", plans_title: "Palvelut", pay: "Tilaa", live: "SEURANTA", 
            bmi_lbl: "BMI-tila", kcal_lbl: "Kalorikiinti√∂", near_lbl: "L√§hist√∂ll√§",
            shops: ["S-Market", "K-Citymarket", "Elixia"], price: "9.99‚Ç¨"
        },
        ru:
