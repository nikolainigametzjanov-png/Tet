<!DOCTYPE html>
<html lang="et">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartBelly PRO | Silverita Labs O√ú</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root { --bg: #0b101a; --cyan: #00ffcc; --magenta: #ff00ff; --green: #39ff14; }
        body { background: var(--bg); color: #e6edf3; font-family: 'Segoe UI', sans-serif; margin: 0; overflow-x: hidden; }
        #bg-canvas { position: fixed; top: 0; left: 0; z-index: -1; opacity: 0.5; }
        
        .screen { display: none; padding: 20px; min-height: 100vh; flex-direction: column; align-items: center; animation: fadeIn 0.3s ease-out; }
        .screen.active { display: flex; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .glass { background: rgba(22, 27, 34, 0.85); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 24px; backdrop-filter: blur(20px); padding: 20px; width: 100%; max-width: 450px; margin-bottom: 15px; }
        .btn-neon { border: 1px solid var(--cyan); color: var(--cyan); border-radius: 30px; padding: 16px; width: 100%; font-weight: bold; text-transform: uppercase; cursor: pointer; transition: 0.3s; background: transparent; text-align: center; display: block; }
        .btn-neon:hover { background: var(--cyan); color: black; box-shadow: 0 0 20px var(--cyan); }
        
        .logo-box { width: 70px; height: 70px; background: white; border-radius: 20px; display: flex; align-items: center; justify-content: center; font-weight: 900; color: black; font-size: 1.8rem; margin-bottom: 10px; box-shadow: 0 0 25px rgba(255,255,255,0.2); }
        
        .lang-switch { position: fixed; top: 15px; right: 15px; display: flex; gap: 4px; z-index: 1000; }
        .lang-dot { width: 34px; height: 34px; border-radius: 8px; border: 1px solid #333; display: flex; align-items: center; justify-content: center; font-size: 10px; cursor: pointer; background: #161b22; font-weight: bold; }
        .lang-dot.active { border-color: var(--cyan); color: var(--cyan); box-shadow: 0 0 10px var(--cyan); }

        input, select { background: #0d1117; border: 1px solid #30363d; color: white; padding: 14px; border-radius: 14px; width: 100%; margin-top: 8px; outline: none; }
        .back-btn { align-self: flex-start; color: #555; font-size: 10px; text-transform: uppercase; letter-spacing: 2px; margin-bottom: 20px; cursor: pointer; transition: 0.3s; }
        .back-btn:hover { color: var(--cyan); }
    </style>
</head>
<body>

<canvas id="bg-canvas"></canvas>

<div class="lang-switch">
    <div onclick="setL('et')" id="l-et" class="lang-dot">ET</div>
    <div onclick="setL('fi')" id="l-fi" class="lang-dot">FI</div>
    <div onclick="setL('ru')" id="l-ru" class="lang-dot">RU</div>
    <div onclick="setL('en')" id="l-en" class="lang-dot">EN</div>
</div>

<div id="scr-intro" class="screen active justify-center">
    <div class="logo-box">SB</div>
    <h1 class="text-3xl font-bold tracking-tighter">SmartBelly PRO</h1>
    <p class="text-gray-500 text-[9px] tracking-[4px] mb-2 uppercase">Silverita Labs O√ú</p>
    <div id="geo-tag" class="text-[9px] text-cyan-400 bg-cyan-900/20 px-3 py-1 rounded-full mb-10 italic">üìç Detecting location...</div>
    <div class="glass text-center">
        <p id="t-desc" class="text-xs text-gray-400 mb-10 leading-relaxed"></p>
        <button onclick="nav('scr-quiz')" id="t-start" class="btn-neon"></button>
    </div>
</div>

<div id="scr-quiz" class="screen pt-10">
    <div onclick="nav('scr-intro')" class="back-btn">‚Üê <span id="t-back1"></span></div>
    <h2 id="t-quiz-title" class="text-xl font-bold mb-6 text-cyan-400"></h2>
    <div class="glass space-y-4">
        <div><label id="t-age-lbl" class="text-[10px] text-gray-500 uppercase ml-2"></label><input type="number" id="age" value="30"></div>
        <div><label id="t-weight-lbl" class="text-[10px] text-gray-500 uppercase ml-2"></label><input type="number" id="weight" value="75"></div>
        <div><label id="t-goal-lbl" class="text-[10px] text-gray-500 uppercase ml-2"></label>
            <select id="goal">
                <option value="loss" id="t-g1"></option>
                <option value="gain" id="t-g2"></option>
            </select>
        </div>
        <button onclick="nav('scr-plans')" id="t-next" class="btn-neon"></button>
    </div>
</div>

<div id="scr-plans" class="screen pt-10">
    <div onclick="nav('scr-quiz')" class="back-btn">‚Üê <span id="t-back2"></span></div>
    <h2 id="t-plans-title" class="text-xl font-bold mb-6"></h2>
    <div class="glass border-cyan-400 border-2 mb-6">
        <h3 class="font-bold text-cyan-400">PRO AI CLINIC</h3>
        <p class="text-[10px] text-gray-400 mt-2">Smart Fridge Sync + Health Tracker Integration</p>
        <p class="text-2xl font-bold mt-4">9.99‚Ç¨ / mo</p>
        <button onclick="nav('scr-main')" class="btn-neon mt-4 text-xs" id="t-pay"></button>
    </div>
    <div class="glass">
        <h4 id="t-near-lbl" class="text-[10px] text-gray-500 uppercase mb-4 tracking-widest"></h4>
        <div id="local-services" class="space-y-3 text-xs"></div>
    </div>
</div>

<div id="scr-main" class="screen pt-6">
    <div class="w-full max-w-sm">
        <div class="flex justify-between items-center mb-4">
            <span class="text-cyan-400 text-[10px] font-bold tracking-[3px]" id="t-live">LIVE MONITORING</span>
            <div class="flex gap-2">
                <span class="text-[9px] text-green-400">VOICE: ON</span>
                <span class="text-[9px] text-magenta-400">SYNC: OK</span>
            </div>
        </div>
        
        <div class="glass">
            <canvas id="progChart" height="150"></canvas>
            <div class="grid grid-cols-2 gap-4 mt-6">
                <div><p class="text-[9px] text-gray-500 uppercase" id="t-bmi-lbl"></p><h3 id="bmi-val" class="font-bold text-xl">---</h3></div>
                <div class="text-right"><p class="text-[9px] text-gray-500 uppercase" id="t-kcal-lbl"></p><h3 id="kcal-val" class="text-cyan-400 font-bold text-xl">---</h3></div>
            </div>
        </div>

        <div class="glass">
            <p id="t-diet-title" class="text-[10px] text-gray-500 mb-4 uppercase"></p>
            <div class="border-t border-gray-800 pt-4">
                <p id="t-meal" class="font-bold text-sm"></p>
                <p id="t-ingred" class="text-[10px] text-gray-500 mt-1"></p>
                <button class="btn-neon py-2 mt-4 text-[10px]" id="t-cook"></button>
            </div>
        </div>
    </div>
</div>

<script>
    const dict = {
        et: {
            desc: "Silverita Labs O√ú professionaalne biomeetriline s√ºsteem ja toitumisintellekt.",
            start: "Alusta anal√º√ºsi", back: "Tagasi", quiz_title: "Isikuandmed", age_lbl: "Vanus", weight_lbl: "Kaal (kg)",
            goal_lbl: "Teie eesm√§rk", g1: "Kaalulangus", g2: "Lihasmassi kasv", next: "J√§tka",
            plans_title: "Vali teenus", pay: "Telli ja Maksa", bmi_lbl: "BMI staatus", kcal_lbl: "Kaloraa≈æ",
            live: "OTSE√úLEKANNE", near_lbl: "L√§hedal asuvad kohad", shops: ["Maxima (Cheapest)", "Grossi Toidukaubad", "MyFitness Gym", "Kadrioru Park"],
            diet: "Digitaalne dietoog", meal: "Kalkunirull spinatiga", ingred: "Spinat, muna, juust", cook: "KOKKA KOHE"
        },
        fi: {
            desc: "Silverita Labs O√ú:n ammattimainen biometrinen j√§rjestelm√§ ja ravitsemusteko√§ly.",
            start: "Aloita analyysi", back: "Takaisin", quiz_title: "Henkil√∂tiedot", age_lbl: "Ik√§", weight_lbl: "Paino (kg)",
            goal_lbl: "Tavoite", g1: "Painonpudotus", g2: "Lihasmassa", next: "Seuraava",
            plans_title: "Valitse palvelu", pay: "Tilaa ja Maksa", bmi_lbl: "BMI-tila", kcal_lbl: "Kalorit",
            live: "LIVE-SEURANTA", near_lbl: "L√§hist√∂ll√§", shops: ["S-Market", "K-Citymarket", "Elixia Gym", "Esplanadin Puisto"],
            diet: "Digitaalinen ravitsemusterapeutti", meal: "Kalkkuna wrap", ingred: "Pinaatti, muna, juusto", cook: "KOKKAA NYT"
        },
        ru: {
            desc: "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –±–∏–æ–º–µ—Ç—Ä–∏–∏ –æ—Ç Silverita Labs O√ú. –í–∞—à —Ü–∏—Ñ—Ä–æ–≤–æ–π –¥–∏–µ—Ç–æ–ª–æ–≥.",
            start: "–ù–∞—á–∞—Ç—å –∞–Ω–∞–ª–∏–∑", back: "–ù–∞–∑–∞–¥", quiz_title: "–í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ", age_lbl: "–í–æ–∑—Ä–∞—Å—Ç", weight_lbl: "–í–µ—Å (–∫–≥)",
            goal_lbl: "–í–∞—à–∞ —Ü–µ–ª—å", g1: "–ü–æ—Ö—É–¥–µ–Ω–∏–µ", g2: "–ù–∞–±–æ—Ä –º–∞—Å—Å—ã", next: "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å",
            plans_title: "–¢–∞—Ä–∏—Ñ—ã", pay: "–û–ø–ª–∞—Ç–∏—Ç—å –¥–æ—Å—Ç—É–ø", bmi_lbl: "–°—Ç–∞—Ç—É—Å BMI", kcal_lbl: "–ö–≤–æ—Ç–∞ –∫–∞–ª–æ—Ä–∏–π",
            live: "–ú–û–ù–ò–¢–û–†–ò–ù–ì", near_lbl: "–†—è–¥–æ–º —Å –≤–∞–º–∏", shops: ["–ë–ª–∏–∂–∞–π—à–∞—è Maxima", "Grossi (–î–µ—à–µ–≤–ª–µ)", "–°–ø–æ—Ä—Ç–ø–ª–æ—â–∞–¥–∫–∞", "–ü–∞—Ä–∫"],
            diet: "–¶–∏—Ñ—Ä–æ–≤–æ–π –¥–∏–µ—Ç–æ–ª–æ–≥", meal: "–†—É–ª–µ—Ç –∏–∑ –∏–Ω–¥–µ–π–∫–∏", ingred: "–®–ø–∏–Ω–∞—Ç, —è–π—Ü–æ, —Å—ã—Ä", cook: "–ì–û–¢–û–í–ò–¢–¨"
        },
        en: {
            desc: "Professional biometric system by Silverita Labs O√ú. Health AI at your service.",
            start: "Start Analysis", back: "Back", quiz_title: "User Profile", age_lbl: "Age", weight_lbl: "Weight (kg)",
            goal_lbl: "Dietary Goal", g1: "Weight Loss", g2: "Gain Muscle", next: "Continue",
            plans_title: "Subscription", pay: "Pay Now", bmi_lbl: "BMI Status", kcal_lbl: "Daily Quota",
            live: "LIVE MONITOR", near_lbl: "Nearby Facilities", shops: ["Local Health Shop", "Gym Center", "Central Park"],
            diet: "Digital Dietitian", meal: "Turkey Wrap", ingred: "Spinach, Egg, Cheese", cook: "COOK NOW"
        }
    };

    let curL = 'et';
    let myChart = null;

    // –ì–ï–û–õ–û–ö–ê–¶–ò–Ø –ò –ê–í–¢–û-–Ø–ó–´–ö
    function initGeo() {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(pos => {
                const lat = pos.coords.latitude;
                if (lat > 59.9) { setL('fi'); document.getElementById('geo-tag').innerText = "üìç Region: Finland"; }
                else { setL('et'); document.getElementById('geo-tag').innerText = "üìç Region: Estonia"; }
            }, () => {
                setL('et');
                document.getElementById('geo-tag').innerText = "üìç Location: Default (EE)";
            });
        }
    }

    function setL(l) {
        curL = l;
        document.querySelectorAll('.lang-dot').forEach(d => d.classList.remove('active'));
        document.getElementById('l-'+l).classList.add('active');
        const t = dict[l];
        document.getElementById('t-desc').innerText = t.desc;
        document.getElementById('t-start').innerText = t.start;
        document.getElementById('t-back1').innerText = t.back;
        document.getElementById('t-back2').innerText = t.back;
        document.getElementById('t-quiz-title').innerText = t.quiz_title;
        document.getElementById('t-age-lbl').innerText = t.age_lbl;
        document.getElementById('t-weight-lbl').innerText = t.weight_lbl;
        document.getElementById('t-goal-lbl').innerText = t.goal_lbl;
        document.getElementById('t-g1').innerText = t.g1;
        document.getElementById('t-g2').innerText = t.g2;
        document.getElementById('t-next').innerText = t.next;
        document.getElementById('t-plans-title').innerText = t.plans_title;
        document.getElementById('t-pay').innerText = t.pay;
        document.getElementById('t-bmi-lbl').innerText = t.bmi_lbl;
        document.getElementById('t-kcal-lbl').innerText = t.kcal_lbl;
        document.getElementById('t-live').innerText = t.live;
        document.getElementById('t-near-lbl').innerText = t.near_lbl;
        document.getElementById('t-diet-title').innerText = t.diet;
        document.getElementById('t-meal').innerText = t.meal;
        document.getElementById('t-ingred').innerText = t.ingred;
        document.getElementById('t-cook').innerText = t.cook;

        const list = document.getElementById('local-services');
        list.innerHTML = t.shops.map(s => `<div class="p-3 border-b border-gray-800 flex justify-between"><span>${s}</span><span class="text-cyan-400">‚Üí</span></div>`).join('');
        updateStats();
    }

    function nav(id) {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        if(id === 'scr-main') { updateStats(); initChart(); }
    }

    function updateStats() {
        const w = document.getElementById('weight').value;
        const bmi = (w / (1.75**2)).toFixed(1);
        const kcal = Math.round((10*w + 6.25*175 - 150) * 1.5);
        if(document.getElementById('bmi-val')) {
            document.getElementById('bmi-val').innerText = bmi;
            document.getElementById('kcal-val').innerText = kcal + " KCAL";
        }
    }

    function initChart() {
        if(myChart) myChart.destroy();
        const ctx = document.getElementById('progChart').getContext('2d');
        myChart = new Chart(ctx, {
            type: 'line',
            data: { labels: ['Week 1', 'Week 2', 'Week 3', 'Today'], datasets: [{ data: [80, 78.5, 77, 75], borderColor: '#00ffcc', tension: 0.4, borderWidth: 3, pointRadius: 3, pointBackgroundColor: '#00ffcc' }] },
            options: { plugins: { legend: { display: false } }, scales: { y: { display: false }, x: { grid: { display: false }, ticks: { color: '#444' } } } }
        });
    }

    // Animation
    const canvas = document.getElementById('bg-canvas');
    const ctx = canvas.getContext('2d');
    let dots = [];
    function initDots() {
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        dots = Array.from({length: 40}, () => ({ x: Math.random()*canvas.width, y: Math.random()*canvas.height, vx: (Math.random()-0.5)*0.3, vy: (Math.random()-0.5)*0.3 }));
    }
    function draw() {
        ctx.clearRect(0,0,canvas.width,canvas.height); ctx.fillStyle = '#00ffcc';
        dots.forEach(d => { d.x+=d.vx; d.y+=d.vy; if(d.x<0||d.x>canvas.width)d.vx*=-1; if(d.y<0||d.y>canvas.height)d.vy*=-1; ctx.beginPath(); ctx.arc(d.x,d.y,1,0,Math.PI*2); ctx.fill(); });
        requestAnimationFrame(draw);
    }
    window.onresize = initDots; initDots(); draw(); initGeo();
</script>
</body>
</html>
